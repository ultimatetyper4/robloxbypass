(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{98702:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return X},default:function(){return B}});var o=n(3021),a=n(43626),r=n(10020),i=n(26544),l=n(5052),d=n(22899),s=n(9008),u=n(58309),c=n(11720),p=n(89598),v=n(78294),f=n(25617),g=n(14266),m=n(66971),y=n(5522),h=n(45628),b=function(e){var t=(0,c.useState)(e),n=t[0],o=t[1];return(0,c.useEffect)((function(){document.title=n}),[n]),[n,o]},P=n(40942),E=n(57020),w=n(11752),Z=n(73145),I=n(94381),F=n(4298),S=n(64857),N=n(39630),A=n(77691),R=n(55072),x=n(82258),_=n(1568),D=n(75555),T=n(61084),k=n(82132),O=n(58502),L=n(3683),U=n(97997),M=n(34155),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},C=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{d(o.next(e))}catch(t){r(t)}}function l(e){try{d(o.throw(e))}catch(t){r(t)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}d((o=o.apply(e,t||[])).next())}))},j=function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},X=!0,B=function(e){var t,n,X,B,H,q,z,G,Q,V,J,W,K,$,ee,te,ne,oe,ae,re,ie,le,de=e.appInfo,se=e.authServiceHost,ue=e.ngNcmHost,ce=e.errorStatus,pe=e.pwaIconHost,ve=e.pwaNudgeDelayMs,fe=e.features,ge=e.authUseThirdPartyFlow,me=e.prefix,ye=e.authRedirectionUrl,he=(e.playDomain,e.adsConfigUrl),be=e.serviceStatus,Pe=e.countryCode,Ee=de.media,we=de.packageName,Ze=(de.appType,(Ee||{}).desktop),Ie=b(ce?"404 | now.gg":""),Fe=Ie[0],Se=Ie[1],Ne=(0,c.useRef)(),Ae=null===(n=null===(t=de.playFeFeatures)||void 0===t?void 0:t.tryAndDownload)||void 0===n?void 0:n.isEnabled,Re=(0,f.I0)(),xe=(0,c.useRef)(!1),_e=36e4,De=(0,c.useRef)(null),Te=!0,ke=null,Oe=function(e){return C(void 0,void 0,void 0,(function(){var t,n,o;return j(this,(function(a){switch(a.label){case 0:return t=(new TextEncoder).encode(e),[4,crypto.subtle.digest("SHA-1",t)];case 1:return n=a.sent(),o=Array.from(new Uint8Array(n)),[2,o.map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))},Le=!0,Ue=!0,Me=!0,Ye=!0;if(xe.current||((0,D.es)(null===de||void 0===de?void 0:de.appType),(0,D.ej)()&&(0,D.YD)(),xe.current=!0),!(0,_.yF)()){var Ce=(0,w.default)().publicRuntimeConfig,je=M.env.NEXT_PUBLIC_ENVIRONMENT||Ce.NEXT_PUBLIC_ENVIRONMENT||"development",Xe=!!(je&&je.indexOf("staging")>-1),Be=!!(je&&je.indexOf("qa")>-1),He=!!(je&&je.indexOf("dev")>-1),qe="now.gg"===window.location.hostname,ze="staging-demo.abctest.in"===window.location.hostname;ke=sessionStorage.getItem("isEmbeddedFrame"),Te=(qe||Xe||Be||He)&&!ze&&!ke,Le=!(0,A.tq)()||(0,A.Em)()||(0,A.zc)()?null===(G=null===(z=null===(q=de.playFeFeatures)||void 0===q?void 0:q.ads)||void 0===z?void 0:z.desktop)||void 0===G?void 0:G.enableDisplayAds:null===(H=null===(B=null===(X=de.playFeFeatures)||void 0===X?void 0:X.ads)||void 0===B?void 0:B.mobile)||void 0===H?void 0:H.enableDisplayAds,Ue=!(0,A.tq)()||(0,A.Em)()||(0,A.zc)()?null===($=null===(K=null===(W=de.playFeFeatures)||void 0===W?void 0:W.ads)||void 0===K?void 0:K.desktop)||void 0===$?void 0:$.enablePrerollAds:null===(J=null===(V=null===(Q=de.playFeFeatures)||void 0===Q?void 0:Q.ads)||void 0===V?void 0:V.mobile)||void 0===J?void 0:J.enablePrerollAds,Me=!(0,A.tq)()||(0,A.Em)()||(0,A.zc)()?null===(re=null===(ae=null===(oe=de.playFeFeatures)||void 0===oe?void 0:oe.ads)||void 0===ae?void 0:ae.desktop)||void 0===re?void 0:re.enableMidrollAds:null===(ne=null===(te=null===(ee=de.playFeFeatures)||void 0===ee?void 0:ee.ads)||void 0===te?void 0:te.mobile)||void 0===ne?void 0:ne.enableMidrollAds,Ye=Le||Ue||Me}v.ZP.serviceStatus="".concat(be),v.ZP.isPlayPage=!0,(0,c.useEffect)((function(){var e;v.ZP.appInfo=de;var t={};if(v.ZP.prefix=me,v.ZP.ngNcmHost=ue,v.ZP.countryCode=Pe||"",(0,E.v)({authServiceHost:se,authUseThirdPartyFlow:ge,pwaIconHost:pe,pwaNudgeDelayMs:ve}),(0,D.ej)()){var n=(0,D.YD)();t.eVar=n.evar,n.isNewUserForExperiment&&(t.isNewUserForExperiment=!0)}(0,p.L9)("PreloaderDisplayed",t);try{if((0,A.EO)()){var o=(new Date).getTime();sessionStorage.setItem(I.oE,o.toString())}if(!sessionStorage.getItem(I.bA)){var a=sessionStorage.getItem(I.UZ);if(a){var r=Date.now()-parseInt(a,10);if(r>=_e)(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true");else{var i=_e-r;De.current=setTimeout((function(){(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true")}),i)}}else{o=Date.now();sessionStorage.setItem(I.UZ,o.toString()),De.current=setTimeout((function(){(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true")}),_e)}}}catch(x){}var d=sessionStorage.getItem("isEmbeddedFrame");if(d){v.ZP.appInfo.iapLoginPromptEnabled=!1;var s=(0,A.Ed)(d),c=!1,f=!1,h=!1,b=!1;s&&(c=-1!==s.indexOf("b"),f=-1!==s.indexOf("a"),h=-1!==s.indexOf("c"),b=-1!==s.indexOf("d")),v.ZP.appInfo.playFeFeatures.ads={desktop:{enablePrerollAds:f,enableDisplayAds:c,enableMidrollAds:h},mobile:{enablePrerollAds:f,enableDisplayAds:c,enableMidrollAds:h}},v.ZP.embeddedFullScreenAdsEnabled=b}(0,A.F8)()&&(v.ZP.appInfo.playFeFeatures.ads={desktop:{enablePrerollAds:!1,enableDisplayAds:!1,enableMidrollAds:!1},mobile:{enablePrerollAds:!1,enableDisplayAds:!1,enableMidrollAds:!1}}),"ropro"===(0,v.We)().utmCampaign.toLowerCase()&&Se("RoPro Cloud Play via now.gg"),(0,v.DJ)()&&Se("Play ".concat(v.ZP.appInfo.appName," Online"));var w=window.fetch,F=/^\/play\/_next\/data\/.*\.json/;window.fetch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C(void 0,void 0,void 0,(function(){var t;return j(this,(function(n){return t=e[0],F.test(t)?[2,Promise.reject()]:[2,w.apply(void 0,e)]}))}))};var S=sessionStorage.getItem(N.$3);S&&parseInt(S,10)&&Re({type:m.Z.SET_ROBLOX_EXPERIENCE_ID,payload:{robloxExperienceId:parseInt(S,10),currentRobloxExperienceTimer:Date.now()}}),v.ZP.features=fe,v.ZP.authRedirectionUrl=ye,v.ZP.authUseThirdPartyFlow=ge,Ae&&(v.ZP.pwaSupported=!1);C(void 0,void 0,void 0,(function(){var e;return j(this,(function(t){switch(t.label){case 0:return v.ZP.appInfo.packageName&&v.ZP.appInfo.packageName.length>40?[4,Oe(v.ZP.appInfo.packageName)]:[3,2];case 1:e=t.sent(),v.ZP.compressedPackage=e,t.label=2;case 2:return[2]}}))})).then((function(){})).catch((function(e){}));try{var R="IncognitoMode";(0,Z.r)().then((function(e){e.isPrivate?(v.ZP.pwaSupported=!1,v.ZP.incognitoMode=T.F.TRUE,(0,p.L9)("".concat(R,"Detected"))):v.ZP.incognitoMode=T.F.FALSE})).catch((function(e){v.ZP.incognitoMode=T.F.ERROR,(0,p.L9)("".concat(R,"DetectionFailed"),{error:e})}))}catch(k){}(0,p.L9)("PreloaderDisplayed2",t),localStorage.removeItem("A/B-experiment::play-page"),Ne.current=(0,p.wn)(),sessionStorage.removeItem(I.dZ),Re({type:m.Z.UPDATE_ORIENTATION,payload:{orientation:de.initialOrientation}}),(0,P.i1)();var _=(0,u._B)();return Re({type:g.Z.GUEST_FLOW,payload:{guestFlow:_}}),(null===(e=null===v.ZP||void 0===v.ZP?void 0:v.ZP.features)||void 0===e?void 0:e.ads)&&(0,l.Z)(),_&&Re({type:g.Z.SET_LOGGED_IN,payload:{isLoggedIn:!1,showPreloader:!1}}),(0,p.L9)("PreloaderDisplayed3",t),function(){clearInterval(Ne.current),De.current&&clearTimeout(De.current)}}),[]);var Ge=function(){Re({type:S.Z.UPDATE_IMAERROR,payload:{imaError:!1}})},Qe=function(){v.ZP.prebidFailed=!0,(0,k.zr)("aditudeScriptLoadError",!1),Re({type:S.Z.UPDATE_IMAERROR,payload:{imaError:!0,adsEnded:!0}})};return ce?(0,U.tZ)(O.NotFound,{prefix:me,ngNcmHost:ue,errorReason:"Play".concat(ce)}):(0,U.BX)(i.Pw,{children:[(0,U.BX)(s.default,{children:[(0,U.tZ)("meta",{name:"robots",content:"noindex,nofollow,noarchive"}),(0,U.tZ)("meta",{httpEquiv:"Cache-control",content:"private, no-cache, no-store, max-age=0, must-revalidate"}),(0,U.tZ)("meta",{httpEquiv:"Pragma",content:"no-cache"}),(0,U.tZ)("script",{dangerouslySetInnerHTML:{__html:(0,y.ZP)(Y(Y({},de),{authServiceHost:se}),we,me,!1,null===(le=null===(ie=de.playFeFeatures)||void 0===ie?void 0:ie.tryAndDownload)||void 0===le?void 0:le.isEnabled)}}),(0,_.LX)((null===de||void 0===de?void 0:de.metaTags)||""),Fe&&(0,U.tZ)("title",{children:Fe}),(0,U.tZ)("script",{children:"document.addEventListener('wheel', function(e) { if (e.ctrlKey) { e.preventDefault(); }}, { passive: false });\n          document.addEventListener('touchmove', function (event) { if (event.touches.length > 1) { event.preventDefault();} }, { passive: false });\n          document.addEventListener('gesturestart', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gesturechange', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gestureend', function (event) { event.preventDefault() }, { passive: false });"})]}),(0,U.BX)(o.im,{desktopBanner:null===Ze||void 0===Ze?void 0:Ze.banner,children:[(0,U.tZ)(d.Z,{}),(0,U.tZ)("noscript",{style:{margin:"auto",borderRadius:"20px",padding:"20px",textAlign:"center",fontSize:"x-large",color:"#ffffff",background:"rgba(0, 0, 0, 0.8)"},children:"You need to enable JavaScript to run this app."}),(0,U.tZ)(r.x.Provider,{value:de,children:(0,U.BX)(a.Z,{children:[(!be||be===h.YR.FailureServiceNotInRegion&&(0,A.c6)(de.packageName))&&(0,U.BX)(U.HY,{children:[Ye&&(Te?(0,U.tZ)(F.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/nowgg-default/prebid-load.js",onLoad:Ge,onError:Qe}):(0,U.tZ)(F.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/longtail/prebid-load.js",onLoad:Ge,onError:Qe})),(0,U.tZ)(L.PlayPage,{manifest:!0,adsConfigUrl:he})]}),(be===h.YR.FailureServiceNotInRegion&&!(0,A.c6)(de.packageName)||be===h.YR.FailureAppNotAvailable)&&Ae?(0,U.tZ)(R.Z,{}):(be===h.YR.Failure||be===h.YR.FailureNoResource||be===h.YR.FailureMobileNotSupported||be===h.YR.FailureDesktopNotSupported||be===h.YR.FailureTabletNotSupported||be===h.YR.FailureOsNotSupported||be===h.YR.FailureServiceNotInRegion&&!(0,A.c6)(de.packageName)||be===h.YR.FailureAppNotAvailable)&&(0,U.tZ)(x.default,{error:be,errorName:"PageServiceStatus-".concat(be)})]})})]})]})}},45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(98702)}])}},function(e){e.O(0,[774,164,54,796,690,327,763,235,683,129,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-fd1003705ef568f3.js.map